---
description: OCR Project Rules - Windows Environment
globs: 
alwaysApply: true
---
# Environment
- Windows 11 workstation with 32GB RAM, 4060Ti GPU, CUDA 12.1
- Do not mix Unix commands in Windows environment
- Windows console cannot display emojis

# OCR Project Context
- This is an OCR (Optical Character Recognition) comparison project
- Supports both traditional OCR (Tesseract, TrOCR) and LLM-based OCR (Ollama)
- Main tools: ocr_router.py (unified traditional OCR), ollama_cloud_ocr.py (cloud OCR), ollama_local_ocr.py (local LLM OCR)
- Supports images and PDFs

# Code Standards
- Use type hints (Python 3.12+)
- Follow PEP 8 style guidelines
- Implement robust error handling for file I/O and API calls
- Handle Windows path separators correctly (use pathlib.Path)
- Graceful fallback for optional dependencies (e.g., pdf2image)

# OCR-Specific Guidelines
- When processing PDFs, convert pages to images first
- Apply heuristic detection per page for multi-page PDFs
- Support both printed text (Tesseract) and handwriting (TrOCR)
- For cloud OCR, always validate API keys and model availability
- Include performance tracking for OCR operations

# Development Workflow
- Maintain code organization and modularity
- Keep unified scripts self-contained (no external OCR module dependencies)
- Follow documentation standards (update README.md when files change)
- Use effective debugging tools and techniques
- Test with both images and PDFs when adding new features
 